!function(e){Drupal.behaviors.customScript={attach:function(i){function t(){e(".lessonCollectionSection .view-content").addClass("mCustomScrollbar fluid light"),e(".lessonCollectionSection .view-content").attr("data-mcs-theme","inset-2-dark");var i=e("#wrappperBloc").find("#wrappperRightBloc").outerHeight();e("#wrappperBloc").find("#wrappperRightBloc").outerHeight()<=390?e("#wrappperBloc").find(".lessonCollectionSection .view-content").css({"max-height":390,width:462}):e("#wrappperBloc").find(".lessonCollectionSection .view-content").css({"max-height":i-102,width:462})}function a(){e.browser.opera||e("#views-exposed-form-search-page select,.lessonCollectionSection form select,#teachings_teachersDD,#teachings_topicDD,#views-exposed-form-taxonomy-term-page select,#views-exposed-form-beginners-course-collection-page select, #views-exposed-form-free-lessons-page select, #views-exposed-form-taxonomy-term-lesson-page select").each(function(){var i=e(this).attr("title");""!=e("option:selected",this).val()&&(i=e("option:selected",this).text()),e(this).parent().find("span").remove(),e(this).css({"z-index":10,opacity:0,"-khtml-appearance":"none"}).after('<span class="lessonsCourse customSelectDd">'+i+"</span>").change(function(){val=e("option:selected",this).text(),e(this).next().text(val)})})}function o(){e.browser.opera||e(".transcription select").each(function(){var i=e(this).attr("title");""!=e("option:selected",this).val()&&(i=e("option:selected",this).text()),e(this).parent().find("span").remove(),e(this).css({"z-index":10,opacity:0,"-khtml-appearance":"none"}).after('<span class="customSelectDropdown">'+i+"</span>").change(function(){val=e("option:selected",this).text(),e(this).next().text(val)})})}e("#popupNotLogin").click(function(){e(this).hide(1e3,function(){e(this).remove()})});var r=210,s=" expand",n=" collapse";e(".description, .highlightsWrapper").each(function(){var i=e(this);if(i.height()>r){i.css({overflow:"hidden",height:r+"px"});var t=e('<a id="expand" href="#">'+s+"</a>"),a=e('<div class="expand"></div>');a.append(t),e(this).after(a),t.click(function(t){t.preventDefault(),i.height()>r?(e(this).html(s),i.css("height",r+"px")):(e(this).html(n),i.css("height","auto"))})}}),e(".expand a").click(function(){e(this).toggleClass("collapse")}),e("input.compare-cb").attr("id","bookmarkCheck"),e("<label for='bookmarkCheck'></label>").insertBefore("#bookmarkCheck"),e("#courseDescription .bookmark label").click(function(){e(this).toggleClass("checked")}),e("#courseDescription .bookmark a.flagged, #courseDescription .bookmark a.unflag-action").each(function(){e(this).closest(".flag-wrapper.flag-bookmarks").toggleClass("bookmarkChecked")}),e(".bookmarkChecked").find("label").addClass("checked"),e("#courseDescription .bookmark label + label, .form-item .description").remove(),e("ul.facetapi-facetapi-checkbox-links li input.facetapi-checkbox").click(function(){e(this).siblings("label.element-invisible").toggleClass("checked")}),e("ul.facetapi-facetapi-checkbox-links li a.facetapi-active").siblings("label.element-invisible").addClass("checked"),e("div.view-lesson-collection .view-filters").addClass("searchThisCourse"),e('.searchThisCourse input[name$="title"]').attr("placeholder","search this course"),t(),e(".wrapperLesson").click(function(){return window.location=e(this).find("a").attr("href"),!1}),e("select.trans-lang-select").change(function(){"none"!==e(this).val()?e(".transcript-content").addClass("openTranscript"):e(".transcript-content").removeClass("openTranscript")}),e(".wrapperLesson").each(function(){var t=e(this).find(".wrappercontentLesson a").attr("href");t==i.URL&&e(this).addClass("activeLesson")}),e(".masonry").masonry({itemSelector:"ul.masonry li",isFitWidth:!0,animationOptions:{duration:400}}),e(".masonry").isotope({itemSelector:"ul.masonry li",layoutMode:"fitRows"}),e(".masonry").css({"min-width":586}),e(".title").css({overflow:"hidden","margin-left":"auto","margin-right":"auto","margin-bottom":"18px",width:e(".masonry").width()-20}),e("#mainContentWrapper .view-filters").css({"border-bottom":"1px solid #ccc","margin-bottom":50,overflow:"hidden","margin-left":"auto","margin-right":"auto",width:e(".masonry").width()-20,height:80}),e(".termDesc").css({overflow:"hidden","margin-left":"auto","margin-right":"auto",width:e(".masonry").width()-20}),jQuery(window).resize(function(){e("#mainContentWrapper h1, #courseByParentWrapper h1").css({width:e(".masonry").width()-20}),e("#mainContentWrapper .view-filters,#mainContentWrapper .termDesc").css({width:e(".masonry").width()-20})}),a(),e("#views-exposed-form-lesson-collection-block.views-exposed-widget",i).ajaxSuccess(function(){a()}),o(),e(window).scroll(function(){if(e("#popupNotLogin").length)var i=104;else var i=60;var t=e(this).scrollTop();t>=i?(e("#newHeaderMenuWrapper").addClass("menuScrolling"),e("#newHeaderMenuWrapper").stop().fadeTo(800)):(e("#newHeaderMenuWrapper").removeClass("menuScrolling"),e("#newHeaderMenuWrapper").stop().fadeTo(800))}),e.each(e(".courseMarketingPageContent"),function(){e(this).find(".courseMarketingPageContentImg").css("background-image","url("+e(this).find("img:hidden").attr("src")+")")}),e(".courseMarketingPageContentImg").css({height:e(".courseMarketingPageContent").find(".courseMarketingPageContentTextWrapper").outerHeight()+1}),e(window).width()<1660?(e("#newHeaderWrapper, #newHeaderMenuWrapper").addClass("smallScreenHeader"),e("ul.nice-menu > li:last-child > a").replaceWith("<a href='#' class='plusIcone'>+</a>")):e(window).width()>=1660&&(e("#newHeaderWrapper, #newHeaderMenuWrapper").removeClass("smallScreenHeader"),e("ul.nice-menu > li:last-child > a").replaceWith("<a href='#'>KC Websites</a>")),e(window).resize(function(){e(".courseMarketingPageContentImg").css({height:e(".courseMarketingPageContent").find(".courseMarketingPageContentTextWrapper").outerHeight()+1}),e(window).width()<1660?(e("#newHeaderWrapper, #newHeaderMenuWrapper").addClass("smallScreenHeader"),e("ul.nice-menu > li:last-child > a").replaceWith("<a href='#' class='plusIcone'>+</a>")):e(window).width()>=1660&&(e("#newHeaderWrapper, #newHeaderMenuWrapper").removeClass("smallScreenHeader"),e("ul.nice-menu > li:last-child > a").replaceWith("<a href='#'>KC Websites</a>"))}),e(".smallTextDesc").text().length<310&&e(".readMoreLinkMarketing").addClass("removeExpand"),e("#bannerMarketingPagedescription").find('a[href="#"]').on("click",function(i){i.preventDefault(),this.expand=!this.expand,e(this).text(this.expand?"close":"expand"),e(this).closest("#bannerMarketingPagedescription").find(".smallTextDesc, .bigTextDesc").toggleClass("smallTextDesc bigTextDesc")}),e.each(e("#loginWrapper"),function(){var i=e(this).outerWidth();e("#userInfoWrapper").css({width:i-122})}),e("#fpSocialMediaBlock1").css({width:e("#SocialMediaWrapper").find("#SocialMedia").outerWidth()-500}),e("#fpSocialMediaBlock1 .fpSocialMediaWrapper").css({width:e("#SocialMediaWrapper").find("#fpSocialMediaBlock1").outerWidth()-45}),e(".fpSocialMediaWrapper .views-row.views-row-1.views-row-odd.views-row-first, .fpSocialMediaWrapper .views-row.views-row-2.views-row-even.views-row-last").css({width:e("#SocialMediaWrapper").find("#fpSocialMediaBlock1 .fpSocialMediaWrapper").outerWidth()/2-10}),e(window).resize(function(){e("#fpSocialMediaBlock1").css({width:e("#SocialMediaWrapper").find("#SocialMedia").outerWidth()-500}),e("#fpSocialMediaBlock1 .fpSocialMediaWrapper").css({width:e("#SocialMediaWrapper").find("#fpSocialMediaBlock1").outerWidth()-45}),e(".fpSocialMediaWrapper .views-row.views-row-1.views-row-odd.views-row-first, .fpSocialMediaWrapper .views-row.views-row-2.views-row-even.views-row-last").css({width:e("#SocialMediaWrapper").find("#fpSocialMediaBlock1 .fpSocialMediaWrapper").outerWidth()/2-10}),e.each(e("#loginWrapper"),function(){var i=e(this).outerWidth();e("#userInfoWrapper").css({width:i-122})})}),setTimeout(function(){e(window).width()<=980?e("#leftColTeachersPage").css({width:e("#mainTeachersPage").find("#mainContentTeachersPage").outerWidth()}):e("#leftColTeachersPage").css({width:240})},1e3);var c;e(window).resize(function(){clearTimeout(c),c=setTimeout(function(){e("#mainContentWrapper h1, #courseByParentWrapper h1").css({width:e(".masonry").width()-20}),e("#mainContentWrapper .view-filters,#mainContentWrapper .termDesc").css({width:e(".masonry").width()-20}),e(window).width()<=980?e("#leftColTeachersPage").css({width:e("#mainTeachersPage").find("#mainContentTeachersPage").outerWidth()}):e("#leftColTeachersPage").css({width:240})},200)})}}}(jQuery);